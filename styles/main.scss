$bg-corners: 0.3em;

@font-face {
    font-family: "Emoji";
    src: local("Apple Color Emoji"), local("Noto Color Emoji"), url("/assets/NotoColorEmoji.ttf");
    font-display: fallback;
}

body {
    font-family: "Bitter", "", "Emoji";
    max-width: 9in;
    padding: 1.4em;
    margin: 1.4em auto;
    margin-bottom: 0;
    background-color: #f5f4f2;
    font-display: swap;
    -webkit-tap-highlight-color:rgba(0, 0, 0, 0);
	-webkit-tap-highlight-color: transparent;
}

header {
    display: flex;
    align-items: center;

    .page-icon {
        font-size: 3em;
    }

    .page-icon, nav a {
        margin-right: 1rem;
    }

    nav {
        $margin: 0.2em;
        
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        justify-content: center;
        max-height: 5em;
        margin-bottom: -$margin;

        a {
            width: fit-content;
            border: 1px solid lightgrey;
            margin-bottom: $margin;

            &:hover {
                border: 1px solid black;
            }
        }
    }
}

article {
    margin: 1em 0;

    a {
        &::before { content: "{" }
        &::after { content: "}" }
    }

    .external {
        &::before { content: "[" }
        &::after { content: "]" }
    }
}

a {
    border-radius: $bg-corners;
    transition: 0.1s;
    padding: 0.1em;
    white-space: nowrap;

    &:hover {
        background-color: black;
        color: white;
    }
}

main {
    min-height: 100%;
    display: block;
    position: relative;
    line-height: 1.5;
}

a {
    text-decoration: none;
    color: inherit;
}

footer {
    padding-top: 1em;
    bottom: 0;
    left: 0;
    margin-bottom: 1em;
}

hr {
    border: none;
    border-top: 1pt solid #575f66;
    margin: 0 -1em;
}

figure, pre, code {
    border-radius: $bg-corners;
    background-color: #FAFAFA;
    color: #575f66;
    box-shadow: 0 0 0.5in transparentize(#575f66, 0.97);
}

figure, pre {
    padding: 1em;
}

code {
    padding: 0 0.3em;
}

figure {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 1em 0;
    
    a, div {
        max-height: 4in;
        text-align: center;

        img {
            max-width: 100%;
            max-height: inherit;
            filter: drop-shadow(0 0 0.1in transparentize(#575f66, 0.8));
        }

        &, &.external {
            &::before { content: none }
            &::after { content: none }

            &:hover {
                color: inherit;
                background-color: inherit;
            }
        }
    }

    figcaption {
        margin-top: 1em;
        font-style: italic;
        text-align: center;
    }
}

.footnotes-list {
    padding-inline-start: 2em;
}

.footnote-ref a, .footnote-backref, .no-decor {
    &::before { content: none }
    &::after { content: none }
}

.footnote-ref a, .footnote-backref {
    font-family: "Fira Code";
}

.footnote-item::marker {
    font-family: "Fira Code";
}

pre, code {
    font-family: "Fira Code";
    word-break: break-all;
    white-space: pre-wrap;
}

pre {
    code {
        background-color: none;
        box-shadow: none;
    }
}

.page-date {
    display: inline-block;
}

.note-details {
    font-style: italic;
}

.backlinks, .backlinks-signal {
    display: inline;
    padding-inline-start: 0;
}

.backlinks li {
    margin: 0 0.2em;
    font-style: normal;
    display: inline;
}

.preview {
    display: none;
}